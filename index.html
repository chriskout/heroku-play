<!DOCTYPE html>
<html>
  <head>
    <style>
      .hidden {
        display: none;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
  </head>
  <body>
    
       
    <h1 id = "scramble">Hit Grab More to get a rack</h1>
    <button id="grabmore">grab more</button>
    <ul id="bingos">
    </ul> 
    
    <form name = "myform">
      Word:<br>
      <input type="text" name = "uin" value = ""><br>
      <input type="button" Value = "Click to Check" onclick="check(this.form)">
    </form>
    <button id="Submit">New Scramble</button>
  </body>
  <script>
    function check(form) {
                        console.log("eff");
                        var input=0;
                         input=document.myform.uin.value;
                         var res;
                         console.log(input);
                         console.log(scramble.text);
                         $.ajax({
                         method: "GET",
                         url: "subracks.php",
                         data: {subracks: 'sub', arguments: [scramble.text]},
                         success: function(obj, textstatus) {
                            if (!('error' in obj)  ) {
                               res = obj.result;
                            }
                            else {
                              console.log(obj.error);
                            }
                         }
                         
                        });
                         if (input == res) {
                           console.log("Made it here");
                         }
                          else {
                                 console.log("made it here");
                          }
      }
    $(document).ready(function(){
      console.log("string");
      
      
                                                                   
      
      let showRacks = function(racks){
        $("#scramble").html('');
       //var the_rack = JSON.parse(racks);
        var the_rack = racks['rack'];
        console.log(JSON.stringify(racks));
       
        $("#scramble").text(the_rack);
        
        }

      
      
      $("#grabmore").on("click", function(){
        console.log("getting Stuff");
        $.ajax({
            method: "GET",
            url: "api.php",
            success: data=>{ showRacks(data)}
        });
      });
    });
  </script>
</html>
